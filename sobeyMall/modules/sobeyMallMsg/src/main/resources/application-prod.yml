server:
  #C端口
  port: 80
  #C上下文路径
  servlet:
    context-path: /sobeyMallMsg
spring:
  banner:
    location: banner.txt
  main:
    banner-mode: console
  datasource:
    url: jdbc:mysql://${mall.mysql.url}/${msg.db}?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf8&autoReconnect=true&failOverReadOnly=false&createDatabaseIfNotExist=true
    username: ${mall.mysql.username}
    password: ${mall.mysql.password}
  flyway:
    # 是否执行不含元数据表的非空模式迁移
    baseline-on-migrate: true
    # 启用flyway
    enabled: true
    # 禁止清理数据表
    clean-disabled: true
    # 版本号
    baseline-version: 2020.01.01
    # SQL迁移的文件名前缀
    sql-migration-prefix: V
    # SQL迁移的文件名后缀
    sql-migration-suffixes: .sql
    validate-on-migrate: true
    # SQL迁移的文件所在位置
    locations: classpath:db/migration
    # 检查迁移脚本位置是否存在
    check-location: false
    placeholder-replacement: false
  rabbitmq:
    #host: 121.36.28.76
    host: ${mall.rabbit.host}
    port: ${mall.rabbit.port}
    username: ${mall.rabbit.username}
    password: ${mall.rabbit.password}
    listener:
      simple:
        acknowledge-mode: auto #消息消费成功自动通知服务端确认
        default-requeue-rejected: false #消费发生未被catch住的异常时直接抛弃消息
        prefetch: 5 #每个consumer最大可以缓存5条待处理的消息在本地
        retry:
          enabled: false #推送消息失败是否开启重试机制，默认false，这里推送失败手动处理消息
        concurrency: 3 #最小的监听消息的线程数
        max-concurrency: 18 #最大的监听消息的线程数
    publisher-confirm-type: correlated #消息成功发送到交换器后触发回调
    publisher-returns: true #根据指定的routingKey找不到队列时触发回调
#netty-socket.io配置
socket-io:
  port: 9999

